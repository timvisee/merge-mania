image: "rust:slim"

stages:
  - check
  - build
  - test

before_script:
  - |
    rustc --version
    cargo --version

check:
  stage: check
  script:
    - cd server
    - cargo check --verbose

test:
  stage: test
  needs: []
  script:
    - cd server
    - cargo test --release --verbose

build:
  stage: build
  needs: []
  script:
    - cd server
    - cargo build --release --verbose
